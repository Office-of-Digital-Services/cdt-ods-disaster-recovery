{% extends "vital_records/base.html" %}
{% load i18n %}
{% load form_helpers %}
{% block inner-content %}
    <h2 class="m-t-80">Which record would you like to replace?</h2>
    <div class="row">
        <div class="col-lg-10">
            <p>You can request one record at a time. If you need more than one, you’ll be able to start a another order after you finish this one.</p>
            <form method="post">
                <div id="type-select" class="col-lg-5 m-y-md p-y-sm">
                    {% csrf_token %}
                    {{ form.type|label_with_required }}
                    {{ form.type }}
                    {{ form.type.errors }}
                </div>
                <p id="confidential-marriage-warning" class="hidden">
                    CDPH does not maintain Confidential Marriage Records. To request a Confidential Marriage Record, please contact the county vital records office that your marriage was registered in.
                </p>
                {% include "vital_records/_button_row.html" with submit_label="Next" %}
            </form>
        </div>
    </div>
{% endblock inner-content %}
{% block javascript %}
    <script nonce="{{request.csp_nonce}}">
        document.addEventListener("DOMContentLoaded", function() {
            const selectElement = document.getElementById("id_type");
            const hiddenTextElement = document.getElementById("confidential-marriage-warning");

            selectElement.addEventListener("change", function() {
                const selectedValue = this.value;

                if (selectedValue === "marriage") {
                    hiddenTextElement.classList.remove("hidden");
                } else {
                    hiddenTextElement.classList.add("hidden");
                }
            });
        });
    </script>
{% endblock javascript %}
